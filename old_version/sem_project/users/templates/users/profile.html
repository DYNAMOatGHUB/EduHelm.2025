{% extends "users/base.html" %}

{% block title %}User Profile | EduHelm{% endblock title %}
{% block profile_active %}active{% endblock profile_active %}

{% block content %}
<div class="profile-container">
    <div class="profile-header">
        <div class="profile-avatar">
            {% if user.profile.image %}
                <img src="{{ user.profile.image.url }}" alt="{{ user.username }}'s profile picture">
            {% else %}
                <i class="fas fa-user"></i>
            {% endif %}
        </div>
        <div class="user-info">
            <h1>
                {% if user.is_authenticated %}
                    {{ user.username|default:'EduHelm Learner' }}
                {% else %}
                    Guest Profile
                {% endif %}
            </h1>
            <p>Manage your account settings, security, and personal information.</p>
            <a href="{% url 'profile_edit' %}">
                <button class="edit-btn"><i class="fas fa-pen"></i> Edit Profile</button>
            </a>
        </div>
    </div>
    <div class="settings-section">
        <h2 class="section-title"><i class="fas fa-star"></i> Learning Metrics</h2>
        <div class="info-row">
            <span class="info-label">Current Streak</span>
            <span class="info-value">ðŸ”¥ 7 Days</span>
        </div>
        <div class="info-row">
            <span class="info-label">Total Modules Completed</span>
            <span class="info-value">24</span>
        </div>
        <div class="info-row">
            <span class="info-label">Current Course Focus</span>
            <span class="info-value">Python Backend</span>
        </div>
    </div>
    <div class="settings-section">
        <h2 class="section-title"><i class="fas fa-cog"></i> Account & Security</h2>
        <div class="info-row">
            <span class="info-label">Email Address</span>
            <span class="info-value">
                {% if user.is_authenticated %}
                    {{ user.email|default:'learner@eduhelm.app' }}
                {% else %}
                    N/A
                {% endif %}
            </span>
        </div>
        <div class="info-row">
            <span class="info-label">Change Password</span>
            <a href="{% url 'password_change' %}">
                <button type="button" class="action-button link-button">Update</button>
            </a>
        </div>
        <div class="info-row">
            <span class="info-label">Two-Factor Authentication (2FA)</span>
            <button type="button" class="action-button link-button">Enable</button>
        </div>
    </div>
    <div class="settings-section" style="border: 1px solid rgba(220, 53, 69, 0.3);">
        <h2 class="section-title" style="color: var(--danger-color);"><i class="fas fa-exclamation-triangle"></i> Danger Zone</h2>
        <div class="info-row" style="padding: 15px 0;">
            <span class="info-label" style="color: var(--danger-color);">Permanently Delete Account</span>
            <button type="button" class="action-button danger-button">Delete Account</button>
        </div>
    </div>
</div>
{% endblock content %}